---
layout: post
title: "250702_TIL"
date: 2025-07-02 21:00:00 +0900
categories: [í¬ë¡¤ë§, ë°ì´í„° ìˆ˜ì§‘, TIL]
tags: [ì›¹ í¬ë¡¤ë§, Tweepy, Twitter API, requests, BeautifulSoup, robots.txt, ë°ì´í„° ìˆ˜ì§‘]
---

<style>
  .initial-content, .search-content {
      padding-left: 40px;
      padding-right: 40px;
  }
</style>

<h2>ğŸ“˜ 250702_TIL</h2>

---

<h3>1ï¸âƒ£ ì›¹ í¬ë¡¤ë§ ê¸°ì´ˆì™€ robots.txt ì´í•´</h3>

- **robots.txtë€?**  
  ì›¹ì‚¬ì´íŠ¸ê°€ í¬ë¡¤ëŸ¬ì—ê²Œ ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€ë¥¼ ì•Œë ¤ì£¼ëŠ” `í…ìŠ¤íŠ¸ ì„¤ì • íŒŒì¼`  
  - ìœ„ì¹˜: `https://ë„ë©”ì¸/robots.txt`
  - ì£¼ìš” ëª…ë ¹ì–´  
    - `User-agent`: ì–´ë–¤ ë´‡ì„ ëŒ€ìƒìœ¼ë¡œ í• ì§€ ì§€ì •  
    - `Disallow`: ì ‘ê·¼ ì°¨ë‹¨ ê²½ë¡œ  
    - `Allow`: ì ‘ê·¼ í—ˆìš© ê²½ë¡œ  

  ì˜ˆì‹œ:
    - User-agent: *
    - Disallow: /private/
    - Allow: /public/

- **í¬ë¡¤ë§ ë§¤ë„ˆ & ìœ¤ë¦¬**
- `robots.txt` í™•ì¸ â†’ ë¶ˆë²• í¬ë¡¤ë§ ë°©ì§€
- `User-Agent` ëª…ì‹œ â†’ ê¸°ë³¸ê°’ì´ ì•„ë‹Œ ë¸Œë¼ìš°ì €ì²˜ëŸ¼ ìœ„ì¥
- `time.sleep()` â†’ ì„œë²„ ë¶€í•˜ ë°©ì§€ (ì˜ˆ: 1ì´ˆ ëŒ€ê¸°)
- ê³¼ë„í•œ ìš”ì²­ì€ IP ì°¨ë‹¨, ë²•ì  ë¶„ìŸ ê°€ëŠ¥ì„± ìˆìŒ

- **ê¸°ë³¸ í¬ë¡¤ë§ ì½”ë“œ ì˜ˆì‹œ**
```python
import requests
from bs4 import BeautifulSoup
import time

headers = {'User-Agent': 'Mozilla/5.0'}
url = 'https://example.com'
response = requests.get(url, headers=headers)
time.sleep(1)
soup = BeautifulSoup(response.text, 'html.parser')
```

### 2ï¸âƒ£ íŠ¸ìœ„í„° APIë¥¼ í™œìš©í•œ í‚¤ì›Œë“œ ê¸°ë°˜ ë°ì´í„° ìˆ˜ì§‘
- **Tweepyë€?**  
  Pythonì—ì„œ Twitter APIë¥¼ ì‰½ê²Œ ë‹¤ë£° ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ,  
  ì¸ì¦ í›„ `search_tweets()` ë©”ì„œë“œë¥¼ í†µí•´ í‚¤ì›Œë“œ ê¸°ë°˜ íŠ¸ìœ— ìˆ˜ì§‘ì´ ê°€ëŠ¥í•¨.

- **í•„ìˆ˜ ì¸ì¦í‚¤ 4ì¢…**
  - `consumer_key`
  - `consumer_secret`
  - `access_token`
  - `access_token_secret`

- **ì˜¤ëŠ˜ ì‹¤ìŠµ ë‚´ìš© ìš”ì•½**
  - í‚¤ì›Œë“œ: `'ë‹¹ê·¼ ì‚¬ê¸° ê±°ë˜'`
  - ìˆ˜ì§‘ ìˆ˜: ìµœê·¼ 100ê°œì˜ íŠ¸ìœ—
  - ìˆ˜ì§‘ í•­ëª©: ì‘ì„± ì‹œê°, ì‚¬ìš©ì ê³„ì •, íŠ¸ìœ— ë³¸ë¬¸

- **Tweepy ì‹¤ìŠµ ì½”ë“œ ì˜ˆì‹œ**
```
import tweepy

# ì¸ì¦
consumer_key = 'your_consumer_key'
consumer_secret = 'your_consumer_secret'
access_token = 'your_access_token'
access_token_secret = 'your_access_token_secret'

auth = tweepy.OAuth1UserHandler(consumer_key, consumer_secret, access_token, access_token_secret)
api = tweepy.API(auth)

# í‚¤ì›Œë“œ ê¸°ë°˜ íŠ¸ìœ— ìˆ˜ì§‘
keyword = 'í‚¤ì›Œë“œ ì…ë ¥'
count = 100
tweets = tweepy.Cursor(api.search_tweets, q=keyword, lang="ko", since="2023-01-01").items(count)

tweet_data = []
for tweet in tweets:
    tweet_data.append([tweet.created_at, tweet.user.screen_name, tweet.text])
```

- **ìœ ì˜ì‚¬í•­**
  - rate limit ì¡´ì¬: í˜¸ì¶œ ì œí•œ ìˆìœ¼ë¯€ë¡œ ìˆ˜ì§‘ëŸ‰ ê´€ë¦¬ í•„ìˆ˜
  - ë°ì´í„°ëŠ” JSON êµ¬ì¡° â†’ í•„ìš”í•œ í•„ë“œ íŒŒì•… í›„ ê°€ê³µ í•„ìš”
  - ê²€ìƒ‰ APIëŠ” ì˜¤ë˜ëœ íŠ¸ìœ—ê¹Œì§€ ìˆ˜ì§‘ë˜ì§€ ì•ŠìŒ

